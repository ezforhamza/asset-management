// @ts-nocheck
import type { Asset, MapAsset } from "#/entity";
import { AssetStatus, VerificationStatus } from "#/enum";
import { MOCK_COMPANY_ID } from "./users";

// Helper to generate dates
const daysAgo = (days: number) => {
	const date = new Date();
	date.setDate(date.getDate() - days);
	return date.toISOString();
};

const daysFromNow = (days: number) => {
	const date = new Date();
	date.setDate(date.getDate() + days);
	return date.toISOString();
};

export const MOCK_ASSETS: Asset[] = [
	{
		id: "asset_001",
		_id: "asset_001",
		companyId: MOCK_COMPANY_ID,
		qrCodeId: "qr_001",
		serialNumber: "CAT-320E-001",
		make: "Caterpillar",
		model: "320E Excavator",
		registeredLocation: { latitude: 24.8607, longitude: 67.0011 },
		locationAccuracy: 5.2,
		registeredBy: "user_002",
		registeredAt: daysAgo(60),
		status: AssetStatus.ACTIVE,
		verificationFrequency: 30,
		geofenceThreshold: null,
		lastVerifiedAt: daysAgo(5),
		nextVerificationDue: daysFromNow(25),
		photos: ["/mock/excavator1.jpg", "/mock/excavator2.jpg"],
		createdAt: daysAgo(60),
		updatedAt: daysAgo(5),
		verificationStatus: VerificationStatus.ON_TIME,
	},
	{
		id: "asset_002",
		_id: "asset_002",
		companyId: MOCK_COMPANY_ID,
		qrCodeId: "qr_002",
		serialNumber: "JD-544K-002",
		make: "John Deere",
		model: "544K Loader",
		registeredLocation: { latitude: 24.8615, longitude: 67.0025 },
		locationAccuracy: 4.8,
		registeredBy: "user_003",
		registeredAt: daysAgo(45),
		status: AssetStatus.ACTIVE,
		verificationFrequency: 30,
		geofenceThreshold: null,
		lastVerifiedAt: daysAgo(25),
		nextVerificationDue: daysFromNow(5),
		photos: ["/mock/loader1.jpg"],
		createdAt: daysAgo(45),
		updatedAt: daysAgo(25),
		verificationStatus: VerificationStatus.DUE_SOON,
	},
	{
		id: "asset_003",
		_id: "asset_003",
		companyId: MOCK_COMPANY_ID,
		qrCodeId: "qr_003",
		serialNumber: "KOM-D65-003",
		make: "Komatsu",
		model: "D65 Bulldozer",
		registeredLocation: { latitude: 24.859, longitude: 67.0035 },
		locationAccuracy: 6.1,
		registeredBy: "user_002",
		registeredAt: daysAgo(90),
		status: AssetStatus.ACTIVE,
		verificationFrequency: 30,
		geofenceThreshold: null,
		lastVerifiedAt: daysAgo(35),
		nextVerificationDue: daysAgo(5),
		photos: ["/mock/bulldozer1.jpg", "/mock/bulldozer2.jpg"],
		createdAt: daysAgo(90),
		updatedAt: daysAgo(35),
		verificationStatus: VerificationStatus.OVERDUE,
	},
	{
		id: "asset_004",
		_id: "asset_004",
		companyId: MOCK_COMPANY_ID,
		qrCodeId: "qr_004",
		serialNumber: "VOL-EC220-004",
		make: "Volvo",
		model: "EC220E Excavator",
		registeredLocation: { latitude: 24.8625, longitude: 67.0018 },
		locationAccuracy: 3.5,
		registeredBy: "user_005",
		registeredAt: daysAgo(30),
		status: AssetStatus.ACTIVE,
		verificationFrequency: 14,
		geofenceThreshold: null,
		lastVerifiedAt: daysAgo(2),
		nextVerificationDue: daysFromNow(12),
		photos: ["/mock/volvo1.jpg"],
		createdAt: daysAgo(30),
		updatedAt: daysAgo(2),
		verificationStatus: VerificationStatus.ON_TIME,
	},
	{
		id: "asset_005",
		_id: "asset_005",
		companyId: MOCK_COMPANY_ID,
		qrCodeId: "qr_005",
		serialNumber: "CAT-966M-005",
		make: "Caterpillar",
		model: "966M Wheel Loader",
		registeredLocation: { latitude: 24.858, longitude: 67.004 },
		locationAccuracy: 4.2,
		registeredBy: "user_003",
		registeredAt: daysAgo(75),
		status: AssetStatus.ACTIVE,
		verificationFrequency: 30,
		geofenceThreshold: null,
		lastVerifiedAt: daysAgo(28),
		nextVerificationDue: daysFromNow(2),
		photos: ["/mock/catloader1.jpg", "/mock/catloader2.jpg"],
		createdAt: daysAgo(75),
		updatedAt: daysAgo(28),
		verificationStatus: VerificationStatus.DUE_SOON,
	},
	{
		id: "asset_006",
		_id: "asset_006",
		companyId: MOCK_COMPANY_ID,
		qrCodeId: "qr_006",
		serialNumber: "HIT-ZX350-006",
		make: "Hitachi",
		model: "ZX350 Excavator",
		registeredLocation: { latitude: 24.8635, longitude: 67.0005 },
		locationAccuracy: 5.8,
		registeredBy: "user_002",
		registeredAt: daysAgo(120),
		status: AssetStatus.ACTIVE,
		verificationFrequency: 30,
		geofenceThreshold: null,
		lastVerifiedAt: daysAgo(40),
		nextVerificationDue: daysAgo(10),
		photos: ["/mock/hitachi1.jpg"],
		createdAt: daysAgo(120),
		updatedAt: daysAgo(40),
		verificationStatus: VerificationStatus.OVERDUE,
	},
	{
		id: "asset_007",
		_id: "asset_007",
		companyId: MOCK_COMPANY_ID,
		qrCodeId: "qr_007",
		serialNumber: "LIE-R946-007",
		make: "Liebherr",
		model: "R946 Crawler Excavator",
		registeredLocation: { latitude: 24.86, longitude: 67.005 },
		locationAccuracy: 4.0,
		registeredBy: "user_005",
		registeredAt: daysAgo(55),
		status: AssetStatus.ACTIVE,
		verificationFrequency: 30,
		geofenceThreshold: null,
		lastVerifiedAt: daysAgo(10),
		nextVerificationDue: daysFromNow(20),
		photos: ["/mock/liebherr1.jpg", "/mock/liebherr2.jpg"],
		createdAt: daysAgo(55),
		updatedAt: daysAgo(10),
		verificationStatus: VerificationStatus.ON_TIME,
	},
	{
		id: "asset_008",
		_id: "asset_008",
		companyId: MOCK_COMPANY_ID,
		qrCodeId: "qr_008",
		serialNumber: "BOB-S650-008",
		make: "Bobcat",
		model: "S650 Skid Steer",
		registeredLocation: { latitude: 24.8645, longitude: 67.003 },
		locationAccuracy: 3.2,
		registeredBy: "user_003",
		registeredAt: daysAgo(40),
		status: AssetStatus.ACTIVE,
		verificationFrequency: 14,
		geofenceThreshold: null,
		lastVerifiedAt: daysAgo(12),
		nextVerificationDue: daysFromNow(2),
		photos: ["/mock/bobcat1.jpg"],
		createdAt: daysAgo(40),
		updatedAt: daysAgo(12),
		verificationStatus: VerificationStatus.DUE_SOON,
	},
];

export const getMapAssets = (): MapAsset[] => {
	return MOCK_ASSETS.map((asset) => ({
		assetId: asset.id,
		serialNumber: asset.serialNumber,
		make: asset.make,
		model: asset.model,
		location: {
			latitude:
				"latitude" in asset.registeredLocation
					? asset.registeredLocation.latitude
					: asset.registeredLocation.coordinates[1],
			longitude:
				"longitude" in asset.registeredLocation
					? asset.registeredLocation.longitude
					: asset.registeredLocation.coordinates[0],
		},
		status: asset.verificationStatus || VerificationStatus.ON_TIME,
		lastVerified: asset.lastVerifiedAt,
	}));
};
